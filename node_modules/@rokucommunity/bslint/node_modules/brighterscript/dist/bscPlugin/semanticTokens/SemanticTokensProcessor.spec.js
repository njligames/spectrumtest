"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const chai_1 = require("chai");
const vscode_languageserver_protocol_1 = require("vscode-languageserver-protocol");
const Program_1 = require("../../Program");
const testHelpers_spec_1 = require("../../testHelpers.spec");
const util_1 = require("../../util");
const rootDir = util_1.standardizePath `${process.cwd()}/.tmp/rootDir`;
describe('SemanticTokensProcessor', () => {
    let program;
    beforeEach(() => {
        program = new Program_1.Program({
            rootDir: rootDir
        });
    });
    afterEach(() => {
        program.dispose();
    });
    it('matches each namespace section', () => {
        const file = program.addOrReplaceFile('source/main.bs', `
            namespace Earthlings.Humanoids
                class Person
                end class
            end namespace
            class Dog
                sub new()
                    m.owner = new Earthlings.Humanoids.Person()
                end sub
            end class
        `);
        program.validate();
        testHelpers_spec_1.expectZeroDiagnostics(program);
        chai_1.expect(program.getSemanticTokens(file.pathAbsolute)).to.eql([{
                range: util_1.util.createRange(7, 34, 7, 44),
                tokenType: vscode_languageserver_protocol_1.SemanticTokenTypes.namespace
            }, {
                range: util_1.util.createRange(7, 45, 7, 54),
                tokenType: vscode_languageserver_protocol_1.SemanticTokenTypes.namespace
            }, {
                range: util_1.util.createRange(7, 55, 7, 61),
                tokenType: vscode_languageserver_protocol_1.SemanticTokenTypes.class
            }]);
    });
});
//# sourceMappingURL=SemanticTokensProcessor.spec.js.map