import { BscFile, Scope, CallableContainerMap, BrsFile, OnGetCodeActionsEvent } from 'brighterscript';
import { Statement, FunctionExpression } from 'brighterscript/dist/parser';
import { Range } from 'brighterscript/dist/astUtils';
import { PluginContext } from '../../util';
export interface NarrowingInfo {
    text: string;
    range: Range;
    type: 'valid' | 'invalid';
    block: Statement;
}
export interface StatementInfo {
    stat: Statement;
    parent?: Statement;
    locals?: Map<string, VarInfo>;
    branches?: number;
    returns?: boolean;
    narrows?: NarrowingInfo[];
}
export interface VarInfo {
    name: string;
    range: Range;
    isGlobal?: boolean;
    isParam?: boolean;
    isIterator?: boolean;
    isUnsafe: boolean;
    parent?: StatementInfo;
    metBranches?: number;
    narrowed?: NarrowingInfo;
    isUsed: boolean;
}
export interface LintState {
    file: BrsFile;
    fun: FunctionExpression;
    parent?: StatementInfo;
    stack: Statement[];
    blocks: WeakMap<Statement, StatementInfo>;
    ifs?: StatementInfo;
    branch?: StatementInfo;
}
export default class TrackCodeFlow {
    private lintContext;
    name: 'trackCodeFlow';
    constructor(lintContext: PluginContext);
    onGetCodeActions(event: OnGetCodeActionsEvent): void;
    afterScopeValidate(scope: Scope, files: BscFile[], callables: CallableContainerMap): void;
    afterFileValidate(file: BscFile): void;
}
export declare function isBranchedStatement(stat: Statement): boolean;
