"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getFixes = exports.extractFixes = void 0;
const textEdit_1 = require("../../textEdit");
const varTracking_1 = require("./varTracking");
function extractFixes(addFixes, diagnostics) {
    return diagnostics.filter(diagnostic => {
        const fix = getFixes(diagnostic);
        if (fix) {
            addFixes(diagnostic.file, fix);
            return false;
        }
        return true;
    });
}
exports.extractFixes = extractFixes;
function getFixes(diagnostic) {
    switch (diagnostic.code) {
        case varTracking_1.VarLintError.CaseMismatch:
            return fixCasing(diagnostic);
        default:
            return null;
    }
}
exports.getFixes = getFixes;
function fixCasing(diagnostic) {
    const data = diagnostic.data;
    return {
        diagnostic,
        changes: [
            textEdit_1.replaceText(data.range, data.name)
        ]
    };
}
//# sourceMappingURL=trackFixes.js.map